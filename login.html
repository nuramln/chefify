<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chefify — Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" type="image/png" href="chefify.jpg">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>

/* SAME BACKGROUND WALLPAPER + OVERLAY */
body {
  background: url('img/backgroundlanding.jpg') no-repeat center center;
  background-size: cover;
  height: 100vh;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Arial, sans-serif;
  position: relative;
}

body::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255,170,150,0.45);
  z-index: 0;
}

/* Login Card */
.login-card {
  z-index: 1;
  width: 450px;
  background: rgba(255, 230, 225, 0.85);
  border-radius: 22px;
  padding: 40px;
  box-shadow: 0 25px 40px rgba(100, 40, 20, 0.25);
  border: 2px solid #ffdccf;
  color: #4b2e19;
}

/* Logo */
img {
  width: 120px;
  display: block;
  margin: 0 auto 15px auto;
  height: auto;
  object-fit: contain;
  border-radius: 50%;
  border: 2px solid #ffdde0;
  box-shadow: 0 4px 12px rgba(100, 40, 20, 0.4);
}

/* Heading */
h4 {
  color: #4b2e19;
  font-weight: 700;
}

/* Inputs */
input {
  border-radius: 12px;
  border: 1.8px solid #d4a290;
  background: #fff4ef;
  color: #4b2e19;
}

input::placeholder {
  color: #94624a;
}

input:focus {
  border-color: #ff9e85;
  box-shadow: 0 0 8px rgba(255, 158, 133, 0.5);
}

/* Button — SAME peach as index & register */
button {
  background-color: #ff9e85 !important;
  border-color: #ff9e85 !important;
  color: #4b2e19 !important;
  font-weight: 600;
  border-radius: 12px;
  transition: 0.2s ease-in-out;
}

button:hover {
  background-color: #ff6f8a !important;
  border-color: #ff6f8a !important;
  color: white !important;
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(255, 120, 150, 0.55);
}

/* Links */
a {
  color: #ff6f8a;
  font-weight: 600;
}

a:hover {
  color: #d94f6b;
}

/* Error Message */
#errorMsg {
  color: #c62828 !important;
  font-weight: 600;
}

</style>
</head>

<body>

<div class="login-card">

  <img src="img/chefify.jpg" alt="Chefify Logo">

  <h4 class="text-center mb-4"><strong>Login to Chefify</strong></h4>

  <form onsubmit="return validateLogin(event)">
    <input id="username" class="form-control mb-3" placeholder="Username">
    <input id="password" type="password" class="form-control mb-2" placeholder="Password">

    <p id="errorMsg" class="small mb-2"></p>

    <button class="btn w-100">Login</button>
  </form>

  <p class="text-center mt-3" style="color:#4b2e19;">
    New user? <a href="register.html">Register</a>
  </p>

</div>

<script>

function validateLogin(e){
  e.preventDefault();

  const username = document.getElementById("username").value.trim();
  const pass = document.getElementById("password").value.trim();
  const error = document.getElementById("errorMsg");

  if(username === "" || pass === ""){
    error.innerText = "Username and password cannot be empty!";
    return;
  }

  const users = JSON.parse(localStorage.getItem("chefifyUsers")) || [];

  const foundUser = users.find(u => u.username === username);

  if(!foundUser){
    error.innerText = "Username not found!";
    return;
  }

  if(foundUser.password !== pass){
    error.innerText = "Incorrect password!";
    return;
  }

  window.location.href = "home.html";
}

</script>

</body>
</html>
